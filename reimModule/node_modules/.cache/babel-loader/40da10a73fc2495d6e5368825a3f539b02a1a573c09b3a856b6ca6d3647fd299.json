{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\ReactSapProj\\\\ReactNew\\\\ReactReimbursement\\\\reimModule\\\\src\\\\pages\\\\Comments.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Box, OutlinedInput, Dialog, DialogActions, DialogContent, DialogTitle, Typography, Divider, Avatar } from \"@material-ui/core\";\nimport { getComments } from \"api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Comments = ({\n  comment,\n  setComment,\n  reimbursmentId\n}) => {\n  _s();\n  const [open, setOpen] = useState(false);\n  const [history, setHistory] = useState([]);\n  useEffect(() => {\n    const fetchComments = async () => {\n      try {\n        const comments = await getComments(reimbursmentId);\n        console.log(\"comments\", comments);\n        const formattedComments = comments.map((item, index) => ({\n          id: index + 1,\n          text: item.textArea,\n          // accessing text from comments.value[0].textArea\n          date: item.date || new Date().toISOString().slice(0, 10),\n          // Use item.date if available\n          user: item.user || \"Unknown User\",\n          avatar: item.avatar || \"/path/to/default-avatar.jpg\" // Placeholder avatar\n        }));\n        setHistory(formattedComments);\n      } catch (error) {\n        console.error(\"Failed to fetch comments:\", error);\n      }\n    };\n    fetchComments();\n  }, [reimbursmentId]);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      style: {\n        marginBottom: \"4px\",\n        marginLeft: \"85%\"\n      },\n      onClick: handleClickOpen,\n      children: \"Comment History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      mb: 2,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        flexGrow: 1,\n        mr: 2,\n        children: /*#__PURE__*/_jsxDEV(OutlinedInput, {\n          placeholder: \"Add a comment...\",\n          multiline: true,\n          rows: 3,\n          fullWidth: true,\n          variant: \"outlined\",\n          value: comment,\n          onChange: e => setComment(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Comment History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: true,\n        style: {\n          maxHeight: \"300px\",\n          overflowY: \"auto\"\n        },\n        children: history.length > 0 ? history.map(entry => /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          mb: 2,\n          alignItems: \"flex-start\",\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            alt: entry.user,\n            src: entry.avatar,\n            style: {\n              marginRight: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: entry.user\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 65\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              children: entry.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: entry.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              style: {\n                margin: \"10px 0\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 33\n          }, this)]\n        }, entry.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }, this)) : /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"textSecondary\",\n          children: \"No comment history available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          color: \"secondary\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(Comments, \"h67eKmG3xq3tKeZByIwXJt9mkA4=\");\n_c = Comments;\nexport default Comments;\nvar _c;\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"names":["React","useEffect","useState","Button","Box","OutlinedInput","Dialog","DialogActions","DialogContent","DialogTitle","Typography","Divider","Avatar","getComments","jsxDEV","_jsxDEV","Fragment","_Fragment","Comments","comment","setComment","reimbursmentId","_s","open","setOpen","history","setHistory","fetchComments","comments","console","log","formattedComments","map","item","index","id","text","textArea","date","Date","toISOString","slice","user","avatar","error","handleClickOpen","handleClose","children","variant","color","style","marginBottom","marginLeft","onClick","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","alignItems","mb","flexGrow","mr","placeholder","multiline","rows","fullWidth","value","onChange","e","target","onClose","maxWidth","dividers","maxHeight","overflowY","length","entry","alt","src","marginRight","margin","_c","$RefreshReg$"],"sources":["C:/Users/user/Documents/ReactSapProj/ReactNew/ReactReimbursement/reimModule/src/pages/Comments.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button, Box, OutlinedInput, Dialog, DialogActions, DialogContent, DialogTitle, Typography, Divider, Avatar } from \"@material-ui/core\";\nimport { getComments } from \"api\";\n\nconst Comments = ({comment, setComment, reimbursmentId}) => {\n    const [open, setOpen] = useState(false);\n    const [history, setHistory] = useState([]);\n\n    useEffect(() => {\n        const fetchComments = async () => {\n            try {\n                const comments = await getComments(reimbursmentId);\n                console.log(\"comments\",comments);\n                const formattedComments = comments.map((item, index) => ({\n                    id: index + 1,\n                    text: item.textArea, // accessing text from comments.value[0].textArea\n                    date: item.date || new Date().toISOString().slice(0, 10), // Use item.date if available\n                    user: item.user || \"Unknown User\",\n                    avatar: item.avatar || \"/path/to/default-avatar.jpg\" // Placeholder avatar\n                }));\n                setHistory(formattedComments);\n            } catch (error) {\n                console.error(\"Failed to fetch comments:\", error);\n            }\n        };\n\n        fetchComments();\n    }, [reimbursmentId]);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <>\n            <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{ marginBottom: \"4px\", marginLeft: \"85%\" }}\n                onClick={handleClickOpen}\n            >\n                Comment History\n            </Button>\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\n                <Box flexGrow={1} mr={2}>\n                    <OutlinedInput\n                        placeholder=\"Add a comment...\"\n                        multiline\n                        rows={3}\n                        fullWidth\n                        variant=\"outlined\"\n                        value={comment}\n                        onChange={(e) => setComment(e.target.value)}\n                    />\n                </Box>\n            </Box>\n\n            <Dialog open={open} onClose={handleClose} maxWidth=\"sm\" fullWidth>\n                <DialogTitle>Comment History</DialogTitle>\n\n                <DialogContent dividers style={{ maxHeight: \"300px\", overflowY: \"auto\" }}>\n                    {history.length > 0 ? (\n                        history.map((entry) => (\n                            <Box key={entry.id} display=\"flex\" mb={2} alignItems=\"flex-start\">\n                                <Avatar alt={entry.user} src={entry.avatar} style={{ marginRight: 8 }} />\n                                <Box>\n                                    <Typography variant=\"body1\"><strong>{entry.user}</strong></Typography>\n                                    <Typography variant=\"body2\" color=\"textSecondary\">{entry.date}</Typography>\n                                    <Typography variant=\"body2\">{entry.text}</Typography>\n                                    <Divider style={{ margin: \"10px 0\" }} />\n                                </Box>\n                            </Box>\n                        ))\n                    ) : (\n                        <Typography variant=\"body2\" color=\"textSecondary\">No comment history available.</Typography>\n                    )}\n                </DialogContent>\n\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"secondary\">\n                        Cancel\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    );\n};\n\nexport default Comments;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}