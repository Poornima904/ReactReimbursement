{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Container,Box,Button,TextField,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper}from\"@material-ui/core\";import{getTableData}from\"api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const columns=[{field:\"reimbursmentId\",headerName:\"Reimbursement ID\",width:250},{field:\"reimbursementDate\",headerName:\"Reimbursement Date\",flex:1},{field:\"totalAmount\",headerName:\"Total Amount\",flex:1}];export default function MasterPage(_ref){let{onRowClick,onCreateClick}=_ref;const[items,setItems]=useState([]);const[allItems,setAllItems]=useState([]);const[filterValues,setFilterValues]=useState({reimbursmentId:\"\",reimbursementDate:\"\",totalAmount:\"\"});const loadData=async()=>{try{const data=await getTableData();// Fetch all data once\nsetAllItems(data);// Store all items for local filtering\nsetItems(data);// Display all items initially\n}catch(error){console.error(\"Error loading data:\",error);}};useEffect(()=>{loadData(true);},[]);const applyFilters=()=>{const filteredItems=allItems.filter(item=>{const matchesReimbursmentId=filterValues.reimbursmentId?item.reimbursmentId.toLowerCase().includes(filterValues.reimbursmentId.toLowerCase()):true;const matchesDate=filterValues.reimbursementDate?item.reimbursementDate===filterValues.reimbursementDate:true;const matchesTotalAmount=filterValues.totalAmount?item.totalAmount.toString()===filterValues.totalAmount:true;return matchesReimbursmentId&&matchesDate&&matchesTotalAmount;});setItems(filteredItems);};return/*#__PURE__*/_jsxs(Container,{disableGutters:true,children:[/*#__PURE__*/_jsxs(Box,{sx:{bgcolor:\"#f5f5f5\",p:2,borderRadius:6,mb:2,mt:2,display:\"flex\",flexDirection:\"row\",alignItems:\"center\",gap:18},children:[/*#__PURE__*/_jsx(TextField,{label:\"Reimbursement ID\",variant:\"outlined\",value:filterValues.reimbursmentId,onChange:e=>setFilterValues({...filterValues,reimbursmentId:e.target.value}),sx:{flex:1}}),/*#__PURE__*/_jsx(TextField,{label:\"Reimbursement Date\",variant:\"outlined\",type:\"date\",value:filterValues.reimbursementDate,onChange:e=>setFilterValues({...filterValues,reimbursementDate:e.target.value}),InputLabelProps:{shrink:true},sx:{flex:1}}),/*#__PURE__*/_jsx(TextField,{label:\"Total Amount\",variant:\"outlined\",value:filterValues.totalAmount,onChange:e=>setFilterValues({...filterValues,totalAmount:e.target.value}),sx:{flex:1}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:applyFilters,children:\"Apply Filters\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"secondary\",onClick:loadData,style:{left:\"31%\"},children:\"Refresh\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:onCreateClick,style:{left:\"31%\"},children:\"Create\"})]}),/*#__PURE__*/_jsx(Box,{component:Paper,elevation:3,sx:{overflow:\"hidden\",borderRadius:6,border:\"2px solid #3f51b5\",padding:1,height:500,// Set constant height\nwidth:1275,// Set constant width\ndisplay:\"flex\",flexDirection:\"column\"// Ensure the table container fills the height\n},children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,sx:{maxHeight:\"100%\",// Allow table to fill the Box height\noverflowY:\"auto\"// Add vertical scrolling if content overflows\n},children:/*#__PURE__*/_jsxs(Table,{stickyHeader:true,children:[\" \",/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsx(TableRow,{children:columns.map(column=>/*#__PURE__*/_jsx(TableCell,{style:{width:column.width,fontWeight:\"bold\",backgroundColor:\"#f0f0f0\"},children:column.headerName},column.field))})}),/*#__PURE__*/_jsx(TableBody,{children:items.map((item,index)=>/*#__PURE__*/_jsxs(TableRow,{hover:true,onClick:()=>onRowClick(item.reimbursmentId),style:{cursor:\"pointer\"},children:[/*#__PURE__*/_jsx(TableCell,{children:item.reimbursmentId}),/*#__PURE__*/_jsx(TableCell,{children:item.reimbursementDate}),/*#__PURE__*/_jsx(TableCell,{children:item.totalAmount})]},index))})]})})})]});}","map":{"version":3,"names":["React","useEffect","useState","Container","Box","Button","TextField","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","getTableData","jsx","_jsx","jsxs","_jsxs","columns","field","headerName","width","flex","MasterPage","_ref","onRowClick","onCreateClick","items","setItems","allItems","setAllItems","filterValues","setFilterValues","reimbursmentId","reimbursementDate","totalAmount","loadData","data","error","console","applyFilters","filteredItems","filter","item","matchesReimbursmentId","toLowerCase","includes","matchesDate","matchesTotalAmount","toString","disableGutters","children","sx","bgcolor","p","borderRadius","mb","mt","display","flexDirection","alignItems","gap","label","variant","value","onChange","e","target","type","InputLabelProps","shrink","color","onClick","style","left","component","elevation","overflow","border","padding","height","maxHeight","overflowY","stickyHeader","map","column","fontWeight","backgroundColor","index","hover","cursor"],"sources":["/home/user/projects/ReactReimbursement/reimModule/src/pages/MasterPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Container,\n  Box,\n  Button,\n  TextField,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper\n} from \"@material-ui/core\";\nimport { getTableData } from \"api\";\n\n\nconst columns = [\n  { field: \"reimbursmentId\", headerName: \"Reimbursement ID\", width: 250 },\n  { field: \"reimbursementDate\", headerName: \"Reimbursement Date\", flex: 1 },\n  { field: \"totalAmount\", headerName: \"Total Amount\", flex: 1 },\n];\n\nexport default function MasterPage({ onRowClick, onCreateClick }) {\n  const [items, setItems] = useState([]);\n  const [allItems, setAllItems] = useState([]);\n  const [filterValues, setFilterValues] = useState({\n    reimbursmentId: \"\",\n    reimbursementDate: \"\",\n    totalAmount: \"\",\n  });\n\n  const loadData = async () => {\n    try {\n      const data = await getTableData(); // Fetch all data once\n      setAllItems(data); // Store all items for local filtering\n      setItems(data); // Display all items initially\n    } catch (error) {\n      console.error(\"Error loading data:\", error);\n    }\n  };\n\n  useEffect(() => {\n    loadData(true);\n  }, []);\n\n\n  const applyFilters = () => {\n    const filteredItems = allItems.filter((item) => {\n      const matchesReimbursmentId = filterValues.reimbursmentId\n        ? item.reimbursmentId\n            .toLowerCase()\n            .includes(filterValues.reimbursmentId.toLowerCase())\n        : true;\n      const matchesDate = filterValues.reimbursementDate\n        ? item.reimbursementDate === filterValues.reimbursementDate\n        : true;\n      const matchesTotalAmount = filterValues.totalAmount\n        ? item.totalAmount.toString() === filterValues.totalAmount\n        : true;\n      return matchesReimbursmentId && matchesDate && matchesTotalAmount;\n    });\n\n    setItems(filteredItems);\n  };\n\n  return (\n    <Container disableGutters>\n      <Box\n        sx={{\n          bgcolor: \"#f5f5f5\",\n          p: 2,\n          borderRadius: 6,\n          mb: 2,\n          mt: 2,\n          display: \"flex\",\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          gap: 18, \n        }}\n      >\n       <TextField\n          label=\"Reimbursement ID\"\n          variant=\"outlined\"\n          value={filterValues.reimbursmentId}\n          onChange={(e) => setFilterValues({ ...filterValues, reimbursmentId: e.target.value })}\n          sx={{ flex: 1 }}\n        />\n        <TextField\n          label=\"Reimbursement Date\"\n          variant=\"outlined\"\n          type=\"date\"\n          value={filterValues.reimbursementDate}\n          onChange={(e) => setFilterValues({ ...filterValues, reimbursementDate: e.target.value })}\n          InputLabelProps={{ shrink: true }}\n          sx={{ flex: 1 }}\n        />\n        <TextField\n          label=\"Total Amount\"\n          variant=\"outlined\"\n          value={filterValues.totalAmount}\n          onChange={(e) => setFilterValues({ ...filterValues, totalAmount: e.target.value })}\n          sx={{ flex: 1 }}\n        />\n       <Button variant=\"contained\" color=\"primary\" onClick={applyFilters}>\n          Apply Filters\n        </Button>\n        <Button variant=\"outlined\" color=\"secondary\" onClick={loadData} style={{left:\"31%\"}}>\n          Refresh\n        </Button>\n        <Button variant=\"contained\" color=\"primary\" onClick={onCreateClick} style={{left:\"31%\"}}>\n          Create\n        </Button>\n      </Box>\n\n\n      <Box\n  component={Paper}\n  elevation={3}\n  sx={{\n    overflow: \"hidden\",\n    borderRadius: 6,\n    border: \"2px solid #3f51b5\",\n    padding: 1,\n    height: 500, // Set constant height\n    width: 1275,  // Set constant width\n    display: \"flex\",\n    flexDirection: \"column\", // Ensure the table container fills the height\n  }}\n>\n  <TableContainer\n    component={Paper}\n    sx={{\n      maxHeight: \"100%\", // Allow table to fill the Box height\n      overflowY: \"auto\", // Add vertical scrolling if content overflows\n    }}\n  >\n    <Table stickyHeader> {/* Add sticky header for better usability */}\n      <TableHead>\n        <TableRow>\n          {columns.map((column) => (\n            <TableCell\n              key={column.field}\n              style={{\n                width: column.width,\n                fontWeight: \"bold\",\n                backgroundColor: \"#f0f0f0\",\n              }}\n            >\n              {column.headerName}\n            </TableCell>\n          ))}\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {items.map((item, index) => (\n          <TableRow\n            key={index}\n            hover\n            onClick={() => onRowClick(item.reimbursmentId)}\n            style={{ cursor: \"pointer\" }}\n          >\n            <TableCell>{item.reimbursmentId}</TableCell>\n            <TableCell>{item.reimbursementDate}</TableCell>\n            <TableCell>{item.totalAmount}</TableCell>\n          </TableRow>\n        ))}\n      </TableBody>\n    </Table>\n  </TableContainer>\n</Box>\n\n    </Container>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}