{"ast":null,"code":"import React,{useState,useCallback,useEffect}from\"react\";import{Button,Box,Typography,Paper,IconButton,Avatar}from\"@material-ui/core\";import{debounce}from\"lodash\";import DeleteIcon from\"@material-ui/icons/Delete\";import InsertDriveFileIcon from\"@material-ui/icons/InsertDriveFile\";import PictureAsPdfIcon from\"@material-ui/icons/PictureAsPdf\";import ImageIcon from\"@material-ui/icons/Image\";import DescriptionIcon from\"@material-ui/icons/Description\";import InsertChartIcon from\"@material-ui/icons/InsertChart\";import attachmentImage from\"../assets/attachmentImage.png\";import{getAttachment,deleteAttachment}from\"api\";// Helper function to extract file extension\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const getFileExtension=fileName=>fileName.split('.').pop().toLowerCase();// Function to return the appropriate icon based on the file extension\nconst getFileIcon=fileName=>{const extension=getFileExtension(fileName);switch(extension){case\"pdf\":return/*#__PURE__*/_jsx(PictureAsPdfIcon,{style:{fontSize:30,color:\"#e57373\"}});case\"jpg\":case\"jpeg\":case\"png\":case\"gif\":return/*#__PURE__*/_jsx(ImageIcon,{style:{fontSize:30,color:\"#64b5f6\"}});case\"doc\":case\"docx\":return/*#__PURE__*/_jsx(DescriptionIcon,{style:{fontSize:30,color:\"#4caf50\"}});case\"xls\":case\"xlsx\":return/*#__PURE__*/_jsx(InsertChartIcon,{style:{fontSize:30,color:\"#ffeb3b\"}});default:return/*#__PURE__*/_jsx(InsertDriveFileIcon,{style:{fontSize:30,color:\"#757575\"}});}};const Attachments=_ref=>{let{reimbursmentId,files,setFiles,isEditing,newFiles,setNewFiles}=_ref;const[fileCounter,setFileCounter]=useState(1);// Counter for unique file IDs\nconst handleFileUpload=useCallback(debounce(async event=>{const uploadedFiles=Array.from(event.target.files);// Array of selected files\n// Filter out files that are already in the current files state based on file name\nconst existingFileNames=files.map(file=>file.fileName);const uniqueFiles=uploadedFiles.filter(file=>!existingFileNames.includes(file.name));const newFilesList=await Promise.all(uniqueFiles.map(async file=>{const Id=`file-${fileCounter+files.length}`;const reader=new FileReader();const tempUrl=URL.createObjectURL(file);return new Promise(resolve=>{reader.onloadend=()=>{const base64Content=reader.result.split(\",\")[1];// Base64 content\nconst newFile={id:Id,reimbursmentId:reimbursmentId,mediaType:file.type,fileName:file.name,size:file.size,url:tempUrl,content:base64Content,lastModified:file.lastModified,isNew:true};resolve(newFile);};reader.onerror=()=>resolve(null);reader.readAsDataURL(file);});}));setFiles(prevFiles=>[...prevFiles,...newFilesList.filter(Boolean)]);setNewFiles(prevNewFiles=>[...prevNewFiles,...newFilesList.filter(Boolean)]);setFileCounter(prevCounter=>prevCounter+uploadedFiles.length);},300),[fileCounter,files,reimbursmentId]);useEffect(()=>{const fetchAttachments=async()=>{try{const filteredFiles=await getAttachment(reimbursmentId);setFiles(filteredFiles);console.log(\"Filtered Attachments:\",filteredFiles);}catch(error){console.error(\"Error fetching attachments\",error);}};fetchAttachments();},[reimbursmentId,setFiles]);const formatFileSize=size=>{const units=[\"bytes\",\"KB\",\"MB\",\"GB\",\"TB\"];let index=0;while(size>=1024&&index<units.length-1){size/=1024;index++;}return`${size.toFixed(2)} ${units[index]}`;};const handleRemoveFile=async id=>{// Find the file to delete\nconst fileToDelete=files.find(file=>file.id===id);if(fileToDelete&&fileToDelete.isNew!==true){try{// Call API to delete the file from the server\nawait deleteAttachment(reimbursmentId,fileToDelete.ID);}catch(error){console.error(\"Error deleting file from server:\",error);}}const afterdelete=await getAttachment(reimbursmentId);setFiles(afterdelete);setNewFiles(afterdelete);// // Update the local state after the file has been removed\n// setFiles((prevFiles) => prevFiles.filter((file) => file.id !== id));\n// setNewFiles((prevNewFiles) => prevNewFiles.filter((file) => file.id !== id));\nconsole.log(\"ghj\");};return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(\"input\",{accept:\"*/*\",style:{display:\"none\"},id:\"file-upload\",type:\"file\",multiple:true// Allow multiple file selection\n,onChange:handleFileUpload}),isEditing?/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-upload\",style:{marginLeft:\"89%\"},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",component:\"span\",children:\"Upload Files\"})}):/*#__PURE__*/_jsx(_Fragment,{}),files.length===0&&/*#__PURE__*/_jsx(Box,{mt:4,height:200,display:\"flex\",alignItems:\"center\",justifyContent:\"center\",style:{backgroundImage:`url(${attachmentImage})`,backgroundSize:\"contain\",backgroundPosition:\"center\",backgroundRepeat:\"no-repeat\",backgroundColor:\"#f0f0f0\"},children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",style:{color:\"#fff\",textShadow:\"1px 1px 2px rgba(0,0,0,0.7)\"},children:\"No files uploaded yet\"})}),files.length>0&&/*#__PURE__*/_jsx(Paper,{style:{marginTop:\"16px\",padding:\"16px\"},children:files.map(file=>/*#__PURE__*/_jsxs(Box,{mb:2,display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",padding:\"8px\",borderBottom:\"1px solid #ddd\",children:[/*#__PURE__*/_jsx(Avatar,{style:{backgroundColor:\"#f5f5f5\",marginRight:\"16px\"},children:getFileIcon(file.fileName)}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",width:\"100%\",flexWrap:\"wrap\",children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",style:{flexGrow:1,minWidth:\"150px\"},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",style:{marginRight:\"10px\",wordBreak:\"break-word\",cursor:\"pointer\",color:\"#1976d2\"},onClick:()=>handleFileClick(file.url)// Open file when clicked\n,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"File Name:\"}),\" \",file.fileName]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",style:{marginRight:\"10px\",wordBreak:\"break-word\",cursor:\"pointer\",color:\"#1976d2\"},onClick:()=>handleFileClick(file.url)// Open file when clicked\n,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"File Name:\"}),\" \",file.fileName]})]}),/*#__PURE__*/_jsx(Box,{display:\"flex\",alignItems:\"center\",style:{flexGrow:1,minWidth:\"150px\"},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",style:{marginRight:\"10px\",wordBreak:\"break-word\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Size:\"}),\" \",formatFileSize(file.size)]})}),/*#__PURE__*/_jsx(Box,{display:\"flex\",alignItems:\"center\",style:{flexGrow:1,minWidth:\"150px\"},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",style:{marginRight:\"10px\",wordBreak:\"break-word\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Type:\"}),\" \",file.mediaType]})}),/*#__PURE__*/_jsx(Box,{display:\"flex\",alignItems:\"center\",style:{flexGrow:1,minWidth:\"150px\"},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",style:{wordBreak:\"break-word\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Last Modified:\"}),\" \",new Date(file.lastModified).toLocaleDateString()]})}),/*#__PURE__*/_jsx(Box,{children:isEditing&&/*#__PURE__*/_jsx(IconButton,{onClick:()=>handleRemoveFile(file.id),children:/*#__PURE__*/_jsx(DeleteIcon,{color:\"secondary\"})})})]})]},file.id))})]});};export default Attachments;","map":{"version":3,"names":["React","useState","useCallback","useEffect","Button","Box","Typography","Paper","IconButton","Avatar","debounce","DeleteIcon","InsertDriveFileIcon","PictureAsPdfIcon","ImageIcon","DescriptionIcon","InsertChartIcon","attachmentImage","getAttachment","deleteAttachment","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","getFileExtension","fileName","split","pop","toLowerCase","getFileIcon","extension","style","fontSize","color","Attachments","_ref","reimbursmentId","files","setFiles","isEditing","newFiles","setNewFiles","fileCounter","setFileCounter","handleFileUpload","event","uploadedFiles","Array","from","target","existingFileNames","map","file","uniqueFiles","filter","includes","name","newFilesList","Promise","all","Id","length","reader","FileReader","tempUrl","URL","createObjectURL","resolve","onloadend","base64Content","result","newFile","id","mediaType","type","size","url","content","lastModified","isNew","onerror","readAsDataURL","prevFiles","Boolean","prevNewFiles","prevCounter","fetchAttachments","filteredFiles","console","log","error","formatFileSize","units","index","toFixed","handleRemoveFile","fileToDelete","find","ID","afterdelete","children","accept","display","multiple","onChange","htmlFor","marginLeft","variant","component","mt","height","alignItems","justifyContent","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","backgroundColor","textShadow","marginTop","padding","mb","borderBottom","marginRight","width","flexWrap","flexGrow","minWidth","wordBreak","cursor","onClick","handleFileClick","Date","toLocaleDateString"],"sources":["/home/user/projects/ReactReimbursement/reimModule/src/pages/Attachments.js"],"sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\nimport { Button, Box, Typography, Paper, IconButton, Avatar } from \"@material-ui/core\";\nimport { debounce } from \"lodash\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport InsertDriveFileIcon from \"@material-ui/icons/InsertDriveFile\";\nimport PictureAsPdfIcon from \"@material-ui/icons/PictureAsPdf\";\nimport ImageIcon from \"@material-ui/icons/Image\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport InsertChartIcon from \"@material-ui/icons/InsertChart\";\nimport attachmentImage from \"../assets/attachmentImage.png\";\nimport { getAttachment, deleteAttachment } from \"api\";\n\n\n\n// Helper function to extract file extension\nconst getFileExtension = (fileName) => fileName.split('.').pop().toLowerCase();\n\n// Function to return the appropriate icon based on the file extension\nconst getFileIcon = (fileName) => {\n  const extension = getFileExtension(fileName);\n  switch (extension) {\n    case \"pdf\":\n      return <PictureAsPdfIcon style={{ fontSize: 30, color: \"#e57373\" }} />;\n    case \"jpg\":\n    case \"jpeg\":\n    case \"png\":\n    case \"gif\":\n      return <ImageIcon style={{ fontSize: 30, color: \"#64b5f6\" }} />;\n    case \"doc\":\n    case \"docx\":\n      return <DescriptionIcon style={{ fontSize: 30, color: \"#4caf50\" }} />;\n    case \"xls\":\n    case \"xlsx\":\n      return <InsertChartIcon style={{ fontSize: 30, color: \"#ffeb3b\" }} />;\n    default:\n      return <InsertDriveFileIcon style={{ fontSize: 30, color: \"#757575\" }} />;\n  }\n};\n\nconst Attachments = ({ reimbursmentId, files, setFiles, isEditing, newFiles, setNewFiles }) => {\n  const [fileCounter, setFileCounter] = useState(1); // Counter for unique file IDs\n\n  const handleFileUpload = useCallback(\n    debounce(async (event) => {\n      const uploadedFiles = Array.from(event.target.files); // Array of selected files\n\n      // Filter out files that are already in the current files state based on file name\n      const existingFileNames = files.map((file) => file.fileName);\n      const uniqueFiles = uploadedFiles.filter(\n        (file) => !existingFileNames.includes(file.name)\n      );\n\n      const newFilesList = await Promise.all(\n        uniqueFiles.map(async (file) => {\n          const Id = `file-${fileCounter + files.length}`;\n          const reader = new FileReader();\n\n          const tempUrl = URL.createObjectURL(file);\n\n\n          return new Promise((resolve) => {\n            reader.onloadend = () => {\n              const base64Content = reader.result.split(\",\")[1]; // Base64 content\n              const newFile = {\n                id: Id,\n                reimbursmentId: reimbursmentId,\n                mediaType: file.type,\n                fileName: file.name,\n                size: file.size,\n                url: tempUrl,\n                content: base64Content,\n                lastModified: file.lastModified,\n                isNew: true,\n              };\n              resolve(newFile);\n            };\n            reader.onerror = () => resolve(null);\n            reader.readAsDataURL(file);\n          });\n        })\n      );\n\n      setFiles((prevFiles) => [...prevFiles, ...newFilesList.filter(Boolean)]);\n      setNewFiles((prevNewFiles) => [...prevNewFiles, ...newFilesList.filter(Boolean)]);\n      setFileCounter((prevCounter) => prevCounter + uploadedFiles.length);\n    }, 300),\n    [fileCounter, files, reimbursmentId]\n  );\n\n  useEffect(() => {\n    const fetchAttachments = async () => {\n      try {\n        const filteredFiles = await getAttachment(reimbursmentId);\n        setFiles(filteredFiles);\n        console.log(\"Filtered Attachments:\", filteredFiles);\n      } catch (error) {\n        console.error(\"Error fetching attachments\", error);\n      }\n    };\n\n    fetchAttachments();\n  }, [reimbursmentId, setFiles]);\n\n  const formatFileSize = (size) => {\n    const units = [\"bytes\", \"KB\", \"MB\", \"GB\", \"TB\"];\n    let index = 0;\n    while (size >= 1024 && index < units.length - 1) {\n      size /= 1024;\n      index++;\n    }\n    return `${size.toFixed(2)} ${units[index]}`;\n  };\n\n  const handleRemoveFile = async (id) => {\n    // Find the file to delete\n    const fileToDelete = files.find((file) => file.id === id);\n    if (fileToDelete && fileToDelete.isNew !== true) {\n      try {\n        // Call API to delete the file from the server\n        await deleteAttachment(reimbursmentId, fileToDelete.ID);\n      } catch (error) {\n        console.error(\"Error deleting file from server:\", error);\n      }\n    }\n    const afterdelete = await getAttachment(reimbursmentId);\n    setFiles(afterdelete);\n    setNewFiles(afterdelete);\n\n    // // Update the local state after the file has been removed\n    // setFiles((prevFiles) => prevFiles.filter((file) => file.id !== id));\n    // setNewFiles((prevNewFiles) => prevNewFiles.filter((file) => file.id !== id));\n    console.log(\"ghj\")\n  };\n\n\n\n  return (\n    <Box>\n      <input\n        accept=\"*/*\"\n        style={{ display: \"none\" }}\n        id=\"file-upload\"\n        type=\"file\"\n        multiple // Allow multiple file selection\n        onChange={handleFileUpload}\n      />\n      {isEditing ?\n        (<label htmlFor=\"file-upload\" style={{ marginLeft: \"89%\" }}>\n          <Button variant=\"contained\" color=\"primary\" component=\"span\">\n            Upload Files\n          </Button>\n        </label>) : (<></>)}\n\n      {files.length === 0 && (\n        <Box\n          mt={4}\n          height={200}\n          display=\"flex\"\n          alignItems=\"center\"\n          justifyContent=\"center\"\n          style={{\n            backgroundImage: `url(${attachmentImage})`,\n            backgroundSize: \"contain\",\n            backgroundPosition: \"center\",\n            backgroundRepeat: \"no-repeat\",\n            backgroundColor: \"#f0f0f0\",\n          }}\n        >\n          <Typography variant=\"h6\" style={{ color: \"#fff\", textShadow: \"1px 1px 2px rgba(0,0,0,0.7)\" }}>\n            No files uploaded yet\n          </Typography>\n        </Box>\n      )}\n\n      {files.length > 0 && (\n        <Paper style={{ marginTop: \"16px\", padding: \"16px\" }}>\n          {files.map((file) => (\n            <Box\n              key={file.id}\n              mb={2}\n              display=\"flex\"\n              alignItems=\"center\"\n              justifyContent=\"space-between\"\n              padding=\"8px\"\n              borderBottom=\"1px solid #ddd\"\n            >\n              <Avatar style={{ backgroundColor: \"#f5f5f5\", marginRight: \"16px\" }}>\n                {getFileIcon(file.fileName)}\n              </Avatar>\n              <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\" width=\"100%\" flexWrap=\"wrap\">\n                <Box display=\"flex\" alignItems=\"center\" style={{ flexGrow: 1, minWidth: \"150px\" }}>\n                <Typography\n                    variant=\"body2\"\n                    style={{ marginRight: \"10px\", wordBreak: \"break-word\", cursor: \"pointer\", color: \"#1976d2\" }}\n                    onClick={() => handleFileClick(file.url)} // Open file when clicked\n                  >\n                    <strong>File Name:</strong> {file.fileName}\n                  </Typography><Typography\n                    variant=\"body2\"\n                    style={{ marginRight: \"10px\", wordBreak: \"break-word\", cursor: \"pointer\", color: \"#1976d2\" }}\n                    onClick={() => handleFileClick(file.url)} // Open file when clicked\n                  >\n                    <strong>File Name:</strong> {file.fileName}\n                  </Typography>\n                </Box>\n\n                <Box display=\"flex\" alignItems=\"center\" style={{ flexGrow: 1, minWidth: \"150px\" }}>\n                  <Typography variant=\"body2\" style={{ marginRight: \"10px\", wordBreak: \"break-word\" }}>\n                    <strong>Size:</strong> {formatFileSize(file.size)}\n                  </Typography>\n                </Box>\n\n                <Box display=\"flex\" alignItems=\"center\" style={{ flexGrow: 1, minWidth: \"150px\" }}>\n                  <Typography variant=\"body2\" style={{ marginRight: \"10px\", wordBreak: \"break-word\" }}>\n                    <strong>Type:</strong> {file.mediaType}\n                  </Typography>\n                </Box>\n\n                <Box display=\"flex\" alignItems=\"center\" style={{ flexGrow: 1, minWidth: \"150px\" }}>\n                  <Typography variant=\"body2\" style={{ wordBreak: \"break-word\" }}>\n                    <strong>Last Modified:</strong> {new Date(file.lastModified).toLocaleDateString()}\n                  </Typography>\n                </Box>\n\n                <Box>\n                  {isEditing && (\n                    <IconButton onClick={() => handleRemoveFile(file.id)}>\n                      <DeleteIcon color=\"secondary\" />\n                    </IconButton>\n                  )}\n                </Box>\n              </Box>\n            </Box>\n          ))}\n        </Paper>\n      )}\n    </Box>\n  );\n};\n\nexport default Attachments;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}