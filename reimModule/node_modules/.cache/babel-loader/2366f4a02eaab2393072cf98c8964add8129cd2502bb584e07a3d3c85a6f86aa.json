{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Container,Box,Button,TextField,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,CircularProgress}from\"@material-ui/core\";import{getTableData}from\"api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const columns=[{field:\"reimbursmentId\",headerName:\"Reimbursement ID\",width:250},{field:\"reimbursementDate\",headerName:\"Reimbursement Date\",flex:1},{field:\"totalAmount\",headerName:\"Total Amount\",flex:1}];export default function MasterPage(_ref){let{onRowClick,onCreateClick}=_ref;const[items,setItems]=useState([]);const[allItems,setAllItems]=useState([]);const[filterValues,setFilterValues]=useState({reimbursmentId:\"\",reimbursementDate:\"\",totalAmount:\"\"});const[loading,setLoading]=useState(false);const loadData=async()=>{setLoading(true);try{const data=await getTableData();// Fetch all data once\nsetAllItems(data);// Store all items for local filtering\nsetItems(data);// Display all items initially\n}catch(error){console.error(\"Error loading data:\",error);}};useEffect(()=>{loadData(true);},[]);const applyFilters=()=>{const filteredItems=allItems.filter(item=>{const matchesReimbursmentId=filterValues.reimbursmentId?item.reimbursmentId.toLowerCase().includes(filterValues.reimbursmentId.toLowerCase()):true;const matchesDate=filterValues.reimbursementDate?item.reimbursementDate===filterValues.reimbursementDate:true;const matchesTotalAmount=filterValues.totalAmount?item.totalAmount.toString()===filterValues.totalAmount:true;return matchesReimbursmentId&&matchesDate&&matchesTotalAmount;});setItems(filteredItems);};return/*#__PURE__*/_jsxs(Container,{disableGutters:true,children:[/*#__PURE__*/_jsxs(Box,{sx:{bgcolor:\"#f5f5f5\",p:2,borderRadius:6,mb:2,mt:2,display:\"flex\",flexDirection:\"row\",alignItems:\"center\",gap:18},children:[/*#__PURE__*/_jsx(TextField,{label:\"Reimbursement ID\",variant:\"outlined\",value:filterValues.reimbursmentId,onChange:e=>setFilterValues({...filterValues,reimbursmentId:e.target.value}),sx:{flex:1}}),/*#__PURE__*/_jsx(TextField,{label:\"Reimbursement Date\",variant:\"outlined\",type:\"date\",value:filterValues.reimbursementDate,onChange:e=>setFilterValues({...filterValues,reimbursementDate:e.target.value}),InputLabelProps:{shrink:true},sx:{flex:1}}),/*#__PURE__*/_jsx(TextField,{label:\"Total Amount\",variant:\"outlined\",value:filterValues.totalAmount,onChange:e=>setFilterValues({...filterValues,totalAmount:e.target.value}),sx:{flex:1}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:applyFilters,children:\"Apply Filters\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"secondary\",onClick:loadData,style:{left:\"31%\"},disabled:loading,children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):\"Refresh\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:onCreateClick,style:{left:\"31%\"},children:\"Create\"})]}),/*#__PURE__*/_jsx(Box,{component:Paper,elevation:3,sx:{overflow:\"hidden\",borderRadius:6,border:\"2px solid #3f51b5\",padding:1},children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,sx:{width:\"100%\",// Full width\nheight:400,// Fixed height for the table\noverflowY:\"auto\"// Enables vertical scrolling\n},children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsx(TableRow,{children:columns.map(column=>/*#__PURE__*/_jsx(TableCell,{style:{width:column.width,fontWeight:\"bold\",backgroundColor:\"#f0f0f0\"},children:column.headerName},column.field))})}),/*#__PURE__*/_jsx(TableBody,{children:items.map((item,index)=>/*#__PURE__*/_jsxs(TableRow,{hover:true,onClick:()=>onRowClick(item.reimbursmentId),style:{cursor:\"pointer\"},children:[/*#__PURE__*/_jsx(TableCell,{children:item.reimbursmentId}),/*#__PURE__*/_jsx(TableCell,{children:item.reimbursementDate}),/*#__PURE__*/_jsx(TableCell,{children:item.totalAmount})]},index))})]})})})]});}","map":{"version":3,"names":["React","useEffect","useState","Container","Box","Button","TextField","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","CircularProgress","getTableData","jsx","_jsx","jsxs","_jsxs","columns","field","headerName","width","flex","MasterPage","_ref","onRowClick","onCreateClick","items","setItems","allItems","setAllItems","filterValues","setFilterValues","reimbursmentId","reimbursementDate","totalAmount","loading","setLoading","loadData","data","error","console","applyFilters","filteredItems","filter","item","matchesReimbursmentId","toLowerCase","includes","matchesDate","matchesTotalAmount","toString","disableGutters","children","sx","bgcolor","p","borderRadius","mb","mt","display","flexDirection","alignItems","gap","label","variant","value","onChange","e","target","type","InputLabelProps","shrink","color","onClick","style","left","disabled","size","component","elevation","overflow","border","padding","height","overflowY","map","column","fontWeight","backgroundColor","index","hover","cursor"],"sources":["/home/user/projects/ReactReimbursement/reimModule/src/pages/MasterPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Container,\n  Box,\n  Button,\n  TextField,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  CircularProgress\n} from \"@material-ui/core\";\nimport { getTableData } from \"api\";\n\n\nconst columns = [\n  { field: \"reimbursmentId\", headerName: \"Reimbursement ID\", width: 250 },\n  { field: \"reimbursementDate\", headerName: \"Reimbursement Date\", flex: 1 },\n  { field: \"totalAmount\", headerName: \"Total Amount\", flex: 1 },\n];\n\nexport default function MasterPage({ onRowClick, onCreateClick }) {\n  const [items, setItems] = useState([]);\n  const [allItems, setAllItems] = useState([]);\n  const [filterValues, setFilterValues] = useState({\n    reimbursmentId: \"\",\n    reimbursementDate: \"\",\n    totalAmount: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n\n\n  const loadData = async () => {\n    setLoading(true);\n    try {\n      const data = await getTableData(); // Fetch all data once\n      setAllItems(data); // Store all items for local filtering\n      setItems(data); // Display all items initially\n    } catch (error) {\n      console.error(\"Error loading data:\", error);\n    }\n  };\n\n  useEffect(() => {\n    loadData(true);\n  }, []);\n\n\n  const applyFilters = () => {\n    const filteredItems = allItems.filter((item) => {\n      const matchesReimbursmentId = filterValues.reimbursmentId\n        ? item.reimbursmentId\n            .toLowerCase()\n            .includes(filterValues.reimbursmentId.toLowerCase())\n        : true;\n      const matchesDate = filterValues.reimbursementDate\n        ? item.reimbursementDate === filterValues.reimbursementDate\n        : true;\n      const matchesTotalAmount = filterValues.totalAmount\n        ? item.totalAmount.toString() === filterValues.totalAmount\n        : true;\n      return matchesReimbursmentId && matchesDate && matchesTotalAmount;\n    });\n\n    setItems(filteredItems);\n  };\n\n  return (\n    <Container disableGutters>\n      <Box\n        sx={{\n          bgcolor: \"#f5f5f5\",\n          p: 2,\n          borderRadius: 6,\n          mb: 2,\n          mt: 2,\n          display: \"flex\",\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          gap: 18, \n        }}\n      >\n       <TextField\n          label=\"Reimbursement ID\"\n          variant=\"outlined\"\n          value={filterValues.reimbursmentId}\n          onChange={(e) => setFilterValues({ ...filterValues, reimbursmentId: e.target.value })}\n          sx={{ flex: 1 }}\n        />\n        <TextField\n          label=\"Reimbursement Date\"\n          variant=\"outlined\"\n          type=\"date\"\n          value={filterValues.reimbursementDate}\n          onChange={(e) => setFilterValues({ ...filterValues, reimbursementDate: e.target.value })}\n          InputLabelProps={{ shrink: true }}\n          sx={{ flex: 1 }}\n        />\n        <TextField\n          label=\"Total Amount\"\n          variant=\"outlined\"\n          value={filterValues.totalAmount}\n          onChange={(e) => setFilterValues({ ...filterValues, totalAmount: e.target.value })}\n          sx={{ flex: 1 }}\n        />\n       <Button variant=\"contained\" color=\"primary\" onClick={applyFilters}>\n          Apply Filters\n        </Button>\n        <Button\n          variant=\"outlined\"\n          color=\"secondary\"\n          onClick={loadData}\n          style={{ left: \"31%\" }}\n          disabled={loading}\n        >\n          {loading ? <CircularProgress size={24} /> : \"Refresh\"}\n        </Button>\n        <Button variant=\"contained\" color=\"primary\" onClick={onCreateClick} style={{left:\"31%\"}}>\n          Create\n        </Button>\n      </Box>\n\n\n      <Box\n        component={Paper}\n        elevation={3}\n        sx={{\n          overflow: \"hidden\",\n          borderRadius: 6,\n          border: \"2px solid #3f51b5\", \n          padding: 1,\n\n        }}\n      >\n         <TableContainer\n          component={Paper}\n          sx={{\n            width: \"100%\", // Full width\n            height: 400, // Fixed height for the table\n            overflowY: \"auto\", // Enables vertical scrolling\n          }}\n        >\n          <Table>\n            <TableHead>\n              <TableRow>\n                {columns.map((column) => (\n                  <TableCell key={column.field} style={{ width: column.width, fontWeight: \"bold\", backgroundColor: \"#f0f0f0\" }}>\n                    {column.headerName}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {items.map((item, index) => (\n                <TableRow key={index} hover onClick={() => onRowClick(item.reimbursmentId)} style={{ cursor: \"pointer\" }}>\n                  <TableCell>{item.reimbursmentId}</TableCell>\n                  <TableCell>{item.reimbursementDate}</TableCell>\n                  <TableCell>{item.totalAmount}</TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Box>\n    </Container>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OACEC,SAAS,CACTC,GAAG,CACHC,MAAM,CACNC,SAAS,CACTC,KAAK,CACLC,SAAS,CACTC,SAAS,CACTC,cAAc,CACdC,SAAS,CACTC,QAAQ,CACRC,KAAK,CACLC,gBAAgB,KACX,mBAAmB,CAC1B,OAASC,YAAY,KAAQ,KAAK,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGnC,KAAM,CAAAC,OAAO,CAAG,CACd,CAAEC,KAAK,CAAE,gBAAgB,CAAEC,UAAU,CAAE,kBAAkB,CAAEC,KAAK,CAAE,GAAI,CAAC,CACvE,CAAEF,KAAK,CAAE,mBAAmB,CAAEC,UAAU,CAAE,oBAAoB,CAAEE,IAAI,CAAE,CAAE,CAAC,CACzE,CAAEH,KAAK,CAAE,aAAa,CAAEC,UAAU,CAAE,cAAc,CAAEE,IAAI,CAAE,CAAE,CAAC,CAC9D,CAED,cAAe,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAgC,IAA/B,CAAEC,UAAU,CAAEC,aAAc,CAAC,CAAAF,IAAA,CAC9D,KAAM,CAACG,KAAK,CAAEC,QAAQ,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAC6B,QAAQ,CAAEC,WAAW,CAAC,CAAG9B,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC+B,YAAY,CAAEC,eAAe,CAAC,CAAGhC,QAAQ,CAAC,CAC/CiC,cAAc,CAAE,EAAE,CAClBC,iBAAiB,CAAE,EAAE,CACrBC,WAAW,CAAE,EACf,CAAC,CAAC,CACF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGrC,QAAQ,CAAC,KAAK,CAAC,CAG7C,KAAM,CAAAsC,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3BD,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAA1B,YAAY,CAAC,CAAC,CAAE;AACnCiB,WAAW,CAACS,IAAI,CAAC,CAAE;AACnBX,QAAQ,CAACW,IAAI,CAAC,CAAE;AAClB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC7C,CACF,CAAC,CAEDzC,SAAS,CAAC,IAAM,CACduC,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAGN,KAAM,CAAAI,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,aAAa,CAAGd,QAAQ,CAACe,MAAM,CAAEC,IAAI,EAAK,CAC9C,KAAM,CAAAC,qBAAqB,CAAGf,YAAY,CAACE,cAAc,CACrDY,IAAI,CAACZ,cAAc,CAChBc,WAAW,CAAC,CAAC,CACbC,QAAQ,CAACjB,YAAY,CAACE,cAAc,CAACc,WAAW,CAAC,CAAC,CAAC,CACtD,IAAI,CACR,KAAM,CAAAE,WAAW,CAAGlB,YAAY,CAACG,iBAAiB,CAC9CW,IAAI,CAACX,iBAAiB,GAAKH,YAAY,CAACG,iBAAiB,CACzD,IAAI,CACR,KAAM,CAAAgB,kBAAkB,CAAGnB,YAAY,CAACI,WAAW,CAC/CU,IAAI,CAACV,WAAW,CAACgB,QAAQ,CAAC,CAAC,GAAKpB,YAAY,CAACI,WAAW,CACxD,IAAI,CACR,MAAO,CAAAW,qBAAqB,EAAIG,WAAW,EAAIC,kBAAkB,CACnE,CAAC,CAAC,CAEFtB,QAAQ,CAACe,aAAa,CAAC,CACzB,CAAC,CAED,mBACE1B,KAAA,CAAChB,SAAS,EAACmD,cAAc,MAAAC,QAAA,eACvBpC,KAAA,CAACf,GAAG,EACFoD,EAAE,CAAE,CACFC,OAAO,CAAE,SAAS,CAClBC,CAAC,CAAE,CAAC,CACJC,YAAY,CAAE,CAAC,CACfC,EAAE,CAAE,CAAC,CACLC,EAAE,CAAE,CAAC,CACLC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,KAAK,CACpBC,UAAU,CAAE,QAAQ,CACpBC,GAAG,CAAE,EACP,CAAE,CAAAV,QAAA,eAEHtC,IAAA,CAACX,SAAS,EACP4D,KAAK,CAAC,kBAAkB,CACxBC,OAAO,CAAC,UAAU,CAClBC,KAAK,CAAEnC,YAAY,CAACE,cAAe,CACnCkC,QAAQ,CAAGC,CAAC,EAAKpC,eAAe,CAAC,CAAE,GAAGD,YAAY,CAAEE,cAAc,CAAEmC,CAAC,CAACC,MAAM,CAACH,KAAM,CAAC,CAAE,CACtFZ,EAAE,CAAE,CAAEhC,IAAI,CAAE,CAAE,CAAE,CACjB,CAAC,cACFP,IAAA,CAACX,SAAS,EACR4D,KAAK,CAAC,oBAAoB,CAC1BC,OAAO,CAAC,UAAU,CAClBK,IAAI,CAAC,MAAM,CACXJ,KAAK,CAAEnC,YAAY,CAACG,iBAAkB,CACtCiC,QAAQ,CAAGC,CAAC,EAAKpC,eAAe,CAAC,CAAE,GAAGD,YAAY,CAAEG,iBAAiB,CAAEkC,CAAC,CAACC,MAAM,CAACH,KAAM,CAAC,CAAE,CACzFK,eAAe,CAAE,CAAEC,MAAM,CAAE,IAAK,CAAE,CAClClB,EAAE,CAAE,CAAEhC,IAAI,CAAE,CAAE,CAAE,CACjB,CAAC,cACFP,IAAA,CAACX,SAAS,EACR4D,KAAK,CAAC,cAAc,CACpBC,OAAO,CAAC,UAAU,CAClBC,KAAK,CAAEnC,YAAY,CAACI,WAAY,CAChCgC,QAAQ,CAAGC,CAAC,EAAKpC,eAAe,CAAC,CAAE,GAAGD,YAAY,CAAEI,WAAW,CAAEiC,CAAC,CAACC,MAAM,CAACH,KAAM,CAAC,CAAE,CACnFZ,EAAE,CAAE,CAAEhC,IAAI,CAAE,CAAE,CAAE,CACjB,CAAC,cACHP,IAAA,CAACZ,MAAM,EAAC8D,OAAO,CAAC,WAAW,CAACQ,KAAK,CAAC,SAAS,CAACC,OAAO,CAAEhC,YAAa,CAAAW,QAAA,CAAC,eAElE,CAAQ,CAAC,cACTtC,IAAA,CAACZ,MAAM,EACL8D,OAAO,CAAC,UAAU,CAClBQ,KAAK,CAAC,WAAW,CACjBC,OAAO,CAAEpC,QAAS,CAClBqC,KAAK,CAAE,CAAEC,IAAI,CAAE,KAAM,CAAE,CACvBC,QAAQ,CAAEzC,OAAQ,CAAAiB,QAAA,CAEjBjB,OAAO,cAAGrB,IAAA,CAACH,gBAAgB,EAACkE,IAAI,CAAE,EAAG,CAAE,CAAC,CAAG,SAAS,CAC/C,CAAC,cACT/D,IAAA,CAACZ,MAAM,EAAC8D,OAAO,CAAC,WAAW,CAACQ,KAAK,CAAC,SAAS,CAACC,OAAO,CAAEhD,aAAc,CAACiD,KAAK,CAAE,CAACC,IAAI,CAAC,KAAK,CAAE,CAAAvB,QAAA,CAAC,QAEzF,CAAQ,CAAC,EACN,CAAC,cAGNtC,IAAA,CAACb,GAAG,EACF6E,SAAS,CAAEpE,KAAM,CACjBqE,SAAS,CAAE,CAAE,CACb1B,EAAE,CAAE,CACF2B,QAAQ,CAAE,QAAQ,CAClBxB,YAAY,CAAE,CAAC,CACfyB,MAAM,CAAE,mBAAmB,CAC3BC,OAAO,CAAE,CAEX,CAAE,CAAA9B,QAAA,cAEDtC,IAAA,CAACP,cAAc,EACduE,SAAS,CAAEpE,KAAM,CACjB2C,EAAE,CAAE,CACFjC,KAAK,CAAE,MAAM,CAAE;AACf+D,MAAM,CAAE,GAAG,CAAE;AACbC,SAAS,CAAE,MAAQ;AACrB,CAAE,CAAAhC,QAAA,cAEFpC,KAAA,CAACZ,KAAK,EAAAgD,QAAA,eACJtC,IAAA,CAACN,SAAS,EAAA4C,QAAA,cACRtC,IAAA,CAACL,QAAQ,EAAA2C,QAAA,CACNnC,OAAO,CAACoE,GAAG,CAAEC,MAAM,eAClBxE,IAAA,CAACR,SAAS,EAAoBoE,KAAK,CAAE,CAAEtD,KAAK,CAAEkE,MAAM,CAAClE,KAAK,CAAEmE,UAAU,CAAE,MAAM,CAAEC,eAAe,CAAE,SAAU,CAAE,CAAApC,QAAA,CAC1GkC,MAAM,CAACnE,UAAU,EADJmE,MAAM,CAACpE,KAEZ,CACZ,CAAC,CACM,CAAC,CACF,CAAC,cACZJ,IAAA,CAACT,SAAS,EAAA+C,QAAA,CACP1B,KAAK,CAAC2D,GAAG,CAAC,CAACzC,IAAI,CAAE6C,KAAK,gBACrBzE,KAAA,CAACP,QAAQ,EAAaiF,KAAK,MAACjB,OAAO,CAAEA,CAAA,GAAMjD,UAAU,CAACoB,IAAI,CAACZ,cAAc,CAAE,CAAC0C,KAAK,CAAE,CAAEiB,MAAM,CAAE,SAAU,CAAE,CAAAvC,QAAA,eACvGtC,IAAA,CAACR,SAAS,EAAA8C,QAAA,CAAER,IAAI,CAACZ,cAAc,CAAY,CAAC,cAC5ClB,IAAA,CAACR,SAAS,EAAA8C,QAAA,CAAER,IAAI,CAACX,iBAAiB,CAAY,CAAC,cAC/CnB,IAAA,CAACR,SAAS,EAAA8C,QAAA,CAAER,IAAI,CAACV,WAAW,CAAY,CAAC,GAH5BuD,KAIL,CACX,CAAC,CACO,CAAC,EACP,CAAC,CACM,CAAC,CACd,CAAC,EACG,CAAC,CAEhB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}